sap.ui.controller("publicholidays.publicHolidays", {                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
/**                                                                                                                                                                                                                                                            
* Called when a controller is instantiated and its View controls (if available) are already created.                                                                                                                                                           
* Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.                                                                                                                                          
* @memberOf publicholidays.publicHolidays                                                                                                                                                                                                                      
*/                                                                                                                                                                                                                                                             
	onInit: function() {                                                                                                                                                                                                                                          
		// URL of the web service - IMPORTANT: relative to the server                                                                                                                                                                                                
		var sServiceUrl = "http://www.kayaposoft.com/enrico/json/v1.0/index.php?callback=getJSON&action=getPublicHolidaysForMonth&month=6&year=2014&country=ger&region=Baden-W%C3%BCrttemberg";                                                                      
		                                                                                                                                                                                                                                                             
		oModel = new sap.ui.model.json.JSONModel();                                                                                                                                                                                                                  
		                                                                                                                                                                                                                                                             
		//Ajax Call with Callback function and JSONP data type                                                                                                                                                                                                       
		var aData = jQuery.ajax(                                                                                                                                                                                                                                     
			{&nbsp;                                                                                                                                                                                                                                                     
				type: "GET",                                                                                                                                                                                                                                               
				contentType: "application/json",                                                                                                                                                                                                                           
				url: sServiceUrl ,                                                                                                                                                                                                                                         
				dataType: "json",                                                                                                                                                                                                                                          
				beforeSend : function(jqXHR, settings )                                                                                                                                                                                                                    
				{                                                                                                                                                                                                                                                          
					alert("BEFORE SEND");                                                                                                                                                                                                                                     
				} ,                                                                                                                                                                                                                                                        
				success: function(data, textStatus, jqXHR)                                                                                                                                                                                                                 
		     	{                                                                                                                                                                                                                                                      
					oModel.setData({modelData : data});                                                                                                                                                                                                                       
					sap.ui.getCore().setModel(oModel);                                                                                                                                                                                                                        
		    		alert("success to post");                                                                                                                                                                                                                              
		     	} ,                                                                                                                                                                                                                                                    
		     	error: function( jqXHR, textStatus, errorThrown )                                                                                                                                                                                                      
		     	{                                                                                                                                                                                                                                                      
		     		alert("CALL ERROR <" + textStatus + "><" + errorThrown + ">");                                                                                                                                                                                        
		     		var aData = [{"date":{"day":9,"month":6,"year":2014,"dayOfWeek":1},"localName":"Pfingstmontag","englishName":"Whit Monday"},{"date":{"day":19,"month":6,"year":2014,"dayOfWeek":4},"localName":"Fronleichnam","englishName":"Corpus Christi"}];       
		     		oModel.setData({modelData : aData});                                                                                                                                                                                                                  
		     	} ,                                                                                                                                                                                                                                                    
		     	complete: function( jqXHR, textStatus )                                                                                                                                                                                                                
		     	{                                                                                                                                                                                                                                                      
		     		alert("COMPLETE <" + textStatus +">");                                                                                                                                                                                                                
		     		if (textStatus=='error')                                                                                                                                                                                                                              
		     		{                                                                                                                                                                                                                                                     
						sap.ui.getCore().setModel(oModel);                                                                                                                                                                                                                       
		     		}                                                                                                                                                                                                                                                     
		     	}                                                                                                                                                                                                                                                      
			}                                                                                                                                                                                                                                                           
		);                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
		                                                                                                                                                                                                                                                             
		//var aData = [{"date":{"day":9,"month":6,"year":2014,"dayOfWeek":1},"localName":"Pfingstmontag","englishName":"Whit Monday"},{"date":{"day":19,"month":6,"year":2014,"dayOfWeek":4},"localName":"Fronleichnam","englishName":"Corpus Christi"}];            
		//oModel.loadData("http://www.kayaposoft.com/enrico/json/v1.0/index.php", "?action=getPublicHolidaysForMonth&month=6&year=2014&country=ger&region=Baden-W%C3%BCrttemberg", false, "GET", false, false, null);&nbsp;                                          
		                                                                                                                                                                                                                                                             
		//sap.ui.getCore().setModel(oModel);                                                                                                                                                                                                                         
		                                                                                                                                                                                                                                                             
	},                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                               
/**                                                                                                                                                                                                                                                            
* Similar to onAfterRendering, but this hook is invoked before the controller's View is re-rendered                                                                                                                                                            
* (NOT before the first rendering! onInit() is used for that one!).                                                                                                                                                                                            
* @memberOf publicholidays.publicHolidays                                                                                                                                                                                                                      
*/                                                                                                                                                                                                                                                             
//	onBeforeRendering: function() {                                                                                                                                                                                                                             
//                                                                                                                                                                                                                                                             
//	},                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
/**                                                                                                                                                                                                                                                            
* Called when the View has been rendered (so its HTML is part of the document). Post-rendering manipulations of the HTML could be done here.                                                                                                                   
* This hook is the same one that SAPUI5 controls get after being rendered.                                                                                                                                                                                     
* @memberOf publicholidays.publicHolidays                                                                                                                                                                                                                      
*/                                                                                                                                                                                                                                                             
//	onAfterRendering: function() {                                                                                                                                                                                                                              
//                                                                                                                                                                                                                                                             
//	},                                                                                                                                                                                                                                                          
                                                                                                                                                                                                                                                               
/**                                                                                                                                                                                                                                                            
* Called when the Controller is destroyed. Use this one to free resources and finalize activities.                                                                                                                                                             
* @memberOf publicholidays.publicHolidays                                                                                                                                                                                                                      
*/                                                                                                                                                                                                                                                             
//	onExit: function() {                                                                                                                                                                                                                                        
//                                                                                                                                                                                                                                                             
//	}                                                                                                                                                                                                                                                           
                                                                                                                                                                                                                                                               
});                                                                                                                                                                                                                                                            